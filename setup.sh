#!/bin/bash

git clone -b stable https://github.com/lammps/lammps.git ~/aamirlab/tools/lammps
mkdir -p ~/aamirlab/tools/lammps/build

cd ~/aamirlab/tools/lammps/build && cmake ../cmake -D BUILD_MPI=on -D BUILD_OMP=on -D CMAKE_C_COMPILER=mpicc -D CMAKE_CXX_COMPILER=mpicxx -D LAMMPS_EXCEPTIONS=ON -D CMAKE_BUILD_TYPE=Release -D LAMMPS_ENABLE_PACKAGES="OMP;MPI" -D FFT=FFTW3 -D FFT_FFTW_THREADS=on -D WITH_JPEG=yes -D WITH_PNG=yes -D WITH_FFMPEG=yes -D WITH_GZIP=yes -D LAMMPS_MEMALIGN=64 -D LAMMPS_LONGLONG_TO_LONG=yes -D PKG_ATC=yes -D PKG_AWPMD=yes -D PKG_COLVARS=yes -D PKG_COMPRESS=yes -D PKG_ELECTRODE=yes -D PKG_INTEL=yes -D PKG_KIM=yes -D PKG_KOKKOS=yes -D PKG_LEPTON=yes -D PKG_MACHDYN=yes -D PKG_MDI=yes -D PKG_ML-HDNNP=yes -D PKG_ML-IAP=yes -D PKG_ML-PACE=yes -D PKG_ML-POD=yes -D PKG_ML-QUIP=yes -D PKG_MOLFILE=yes -D PKG_OPENMP=yes -D PKG_OPT=yes -D PKG_POEMS=yes -D PKG_PYTHON=yes -D PKG_QMMM=yes -D PKG_VORONOI=yes -D PKG_AMOEBA=on -D PKG_ASPHERE=on -D PKG_BOCS=on -D PKG_BODY=on -D PKG_BPM=on -D PKG_BROWNIAN=on -D PKG_CG-DNA=on -D PKG_CG-SPICA=on -D PKG_CLASS2=on -D PKG_COLLOID=on -D PKG_CORESHELL=on -D PKG_DIELECTRIC=on -D PKG_DIFFRACTION=on -D PKG_DIPOLE=on -D PKG_DPD-BASIC=on -D PKG_DPD-MESO=on -D PKG_DPD-REACT=on -D PKG_DPD-SMOOTH=on -D PKG_DRUDE=on -D PKG_EFF=on -D PKG_EXTRA-COMPUTE=on -D PKG_EXTRA-DUMP=on -D PKG_EXTRA-FIX=on -D PKG_EXTRA-MOLECULE=on -D PKG_EXTRA-PAIR=on -D PKG_FEP=on -D PKG_GRANULAR=on -D PKG_INTERLAYER=on -D PKG_KSPACE=on -D PKG_LATBOLTZ=on -D PKG_MANIFOLD=on -D PKG_MANYBODY=on -D PKG_MC=on -D PKG_MEAM=on -D PKG_MESONT=on -D PKG_MGPT=on -D PKG_MISC=on -D PKG_ML-RANN=on -D PKG_ML-SNAP=on -D PKG_MOFFF=on -D PKG_MOLECULE=on -D PKG_MPIIO=on -D PKG_ORIENT=on -D PKG_PERI=on -D PKG_PHONON=on -D PKG_PLUGIN=on -D PKG_PTM=on -D PKG_QEQ=on -D PKG_QTB=on -D PKG_REACTION=on -D PKG_REAXFF=on -D PKG_REPLICA=on -D PKG_RIGID=on -D PKG_SHOCK=on -D PKG_SMTBQ=on -D PKG_SPH=on -D PKG_SPIN=on -D PKG_SRD=on -D PKG_TALLY=on -D PKG_UEF=on -D PKG_YAFF=on

cd ~/aamirlab/tools/lammps/build && cmake --build .
cd ~/aamirlab/tools/lammps/build && make install
